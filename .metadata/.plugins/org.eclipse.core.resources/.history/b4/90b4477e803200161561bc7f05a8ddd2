package digit.parser;

import static org.junit.Assert.*;
import java.io.FileNotFoundException;
import java.util.Map;
import org.junit.*;
import org.junit.runner.JUnitCore;
import org.junit.runner.Result;

import view.Window;


public class TransformNumberRuTest {
	private Map<Float, String> map;		
	private TransformNumberRu transform;
	private Window window;
	
	@Before
	private void openFile(){
		map = window.getMap();
		transform = new TransformNumberRu();
		try {
			transform.readFile("resources/Degrees.txt");
		} catch (FileNotFoundException e) {
			e.printStackTrace();
		}
	}
	@After
	private void clearAll(){
		map = null;
		transform = null;
	}
	
	@Test
	public void testNumber2String() {
		for(Map.Entry<Float, String> entry: map.entrySet()){
			String str = transform.Number2String(entry.getKey());
			if(str.equals(entry.getValue())){window.setText("success test: " +
												entry.getValue() +" = "
												+ str);}
			else{window.setText("test failed: " + entry.getValue() +
									" != " + str);}
		}
	}

    public static void main(String[] args) throws Exception {
        JUnitCore runner = new JUnitCore();
        Result result = runner.run(TransformNumberRuTest.class);
        System.out.println("run tests: ");
//        System.out.println("failed tests: " + result.getFailureCount());
//        System.out.println("ignored tests: " + result.getIgnoreCount());
//        System.out.println("success: " + result.wasSuccessful());
   }

}